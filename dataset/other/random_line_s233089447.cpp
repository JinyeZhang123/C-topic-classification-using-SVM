    double tb=(cx-dx)*(by-cy)+(cy-dy)*(cx-bx);
