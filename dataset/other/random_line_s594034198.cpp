    ld tl = max(ld(0),v[i]-vl);
