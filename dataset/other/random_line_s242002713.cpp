            if (ny + dy[i] < 0 || h <= ny + dy[i] || nx + dx[i] < 0 || w <= nx + dx[i]) break;
