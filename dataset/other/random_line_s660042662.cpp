			if (dist[ny][nx] != upper) continue;
