                while(cnt-- && !cur_p.empty()) {
