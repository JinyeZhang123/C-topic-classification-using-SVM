    if(0 <= next_y && next_y < n && 0 <= next_x && next_x < m
