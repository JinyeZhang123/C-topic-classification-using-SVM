T tree_diameter(const WeightedGraph< T > &g) {
