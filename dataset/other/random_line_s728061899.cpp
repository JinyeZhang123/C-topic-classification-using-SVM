    return N * RepeatSquaring(N, P-1, M)%M;
