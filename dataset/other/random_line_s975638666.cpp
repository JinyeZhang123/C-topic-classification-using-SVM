    return ret>=2?ret:ret^1;
