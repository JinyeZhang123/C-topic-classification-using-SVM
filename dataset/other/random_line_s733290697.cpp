				if (sample[j] != ((ring.size() <= i + j) ? ring[i + j - ring.size()] : ring[i + j])){
