    if (mask == (1 << nSG) - 1) {
