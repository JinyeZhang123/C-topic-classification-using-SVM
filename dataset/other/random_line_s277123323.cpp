    bool is_inside = between(c_x + r, x, W - r) && between(c_y + r, y, H - r);
