        sum -= min(0, w[i]);
