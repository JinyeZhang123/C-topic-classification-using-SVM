      if ((mask & (1 << i)) == 0) continue;
