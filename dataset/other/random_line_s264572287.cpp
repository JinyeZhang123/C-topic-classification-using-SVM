    if(nx>=w||nx<0||ny>=h||ny<0) continue;
