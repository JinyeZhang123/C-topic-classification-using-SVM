            d = std::max(d, tmp);
