#define valid(nx,ny) nx>=0 && nx<n && ny>=0 && ny<m
