  int setuyaku = std::min(N-1, max_v);
