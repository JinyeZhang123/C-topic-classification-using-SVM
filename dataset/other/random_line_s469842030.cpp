        if (num) res += (num&1 ? 1 : -1)*1ll<<(n-1-__builtin_popcountll(val));
