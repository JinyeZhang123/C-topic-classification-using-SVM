				const int newx = atop.x + dx[way];
